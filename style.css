body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
    margin:0; padding:10px; color:#333;
    display:flex; justify-content:center;
    background: transparent;
}

/* 테마 파스텔톤 */
body.default { --main-bg:#ffffff; --btn-color:#6ea6ff; --selected:#6ea6ff; --dot-color:#555; }
body.cute { --main-bg:#ffe6f0; --btn-color:#ff9ecf; --selected:#ff9ecf; --dot-color:#d6417e; }
body.calm { --main-bg:#f5f0e1; --btn-color:#d9b48f; --selected:#d9b48f; --dot-color:#8b5e3c; }
body.mono { --main-bg:#f0f0f0; --btn-color:#555555; --selected:#555555; --dot-color:#222; }

#widget-container {
    width:280px;
    background: var(--main-bg);
    padding:10px;
    border-radius:8px;
    box-shadow:0 1px 3px rgba(0,0,0,0.1);
    position: relative;
}

#calendar-header {
    display:flex;
    justify-content:space-between;
    align-items:center;
    margin-bottom:10px;
}
#calendar-header button {
    background:none; border:none; font-size:1.2em; cursor:pointer; color:var(--btn-color);
    border-radius:4px; padding:5px;
}
#calendar-header button:hover { opacity:0.8; }

#calendar-grid {
    display:grid;
    grid-template-columns:repeat(7,1fr);
    gap:2px;
    text-align:center;
    font-size:0.85em;
}
.day-cell { padding:5px 0; cursor:pointer; border-radius:4px; position:relative; }
.day-cell.header { font-weight:bold; }

/* 주말 색상 스타일 적용 (JS에서 클래스 추가) */
.day-cell.sunday, .day-cell.header:first-child { color:red; }
.day-cell.saturday, .day-cell.header:last-child { color:blue; }

.day-cell.today { font-weight:bold; background:#d1e7ff; }
.day-cell.selected { 
    background:var(--selected); 
    color:white !important; /* 선택 시 주말 색상 무시 */
}
.day-cell .todo-dot { 
    width:5px; height:5px; 
    background:var(--dot-color); 
    border-radius:50%; 
    position:absolute; 
    bottom:3px; left:50%; 
    transform:translateX(-50%); 
}

#todo-area { margin-top:10px; min-height:50px; border-top:1px solid #eee; padding-top:10px; }
#todo-list { list-style:none; padding:0; margin:0; }
#todo-list li { display:flex; align-items:center; margin-bottom:5px; padding:5px; border-radius:4px; background:#f9f9f9; font-size:0.9em; }
#todo-list input[type="checkbox"] { margin-right:10px; }
#todo-list span.completed { text-decoration:line-through; color:#888; }

#action-bar { display:flex; justify-content:flex-end; align-items:center; gap:5px; margin-top:10px; }
#add-todo-btn { padding:6px 10px; background:var(--btn-color); color:white; border:none; border-radius:4px; cursor:pointer; }
#add-todo-btn:hover{ opacity:0.9; }

#theme-selector { display:flex; gap:5px; }
#theme-selector button { background:none; border:none; cursor:pointer; font-size:1.1em; padding:0; }
#theme-selector button:hover { opacity:0.8; }

/* 모달: 중앙 정렬을 위해 display: flex로 변경 */
.modal { 
    display:none; 
    position:fixed; 
    z-index:1000; 
    left:0; top:0; 
    width:100%; height:100%; 
    background:rgba(0,0,0,0.4); 
    /* 추가: 모달 내용 중앙 정렬 */
    justify-content:center; 
    align-items:center; 
}
.modal-content { background:#fff; padding:15px; width:90%; max-width:250px; border-radius:8px; position:relative; box-shadow:0 4px 8px rgba(0,0,0,0.2); }
.close-btn { position:absolute; top:5px; right:10px; cursor:pointer; font-size:20px; }
.modal-content h4 { margin-top:0; margin-bottom:10px; }
.modal-content label { display:block; font-weight:bold; margin-top:10px; font-size:0.85em; }
.modal-content input, .modal-content select { width:100%; padding:6px; margin-top:5px; border-radius:4px; border:1px solid #ddd; box-sizing:border-box; }
#save-todo-btn { width:100%; padding:8px; margin-top:10px; background:#28a745; color:white; border:none; border-radius:4px; cursor:pointer; }
#save-todo-btn:hover{ opacity:0.9; }
